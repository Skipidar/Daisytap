<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Игра Ромашка</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Подключение нового шрифта -->
    <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Верхняя панель: Уровень игрока и кнопки звук/язык -->
    <div class="top-bar">
        <!-- Уровень игрока и прогресс -->
        <div id="player-level">
            <span data-localize="player_level">Уровень игрока:</span> <span id="level-number">1</span>
            <div id="level-progress-bar">
                <div id="level-progress"></div>
            </div>
        </div>
        <!-- Кнопки звук и локализация -->
        <div class="top-buttons">
            <!-- Кнопка смены локализации -->
            <button id="language-toggle">
                <img src="assets/images/ru.svg" alt="Язык" class="language-icon">
            </button>
            <!-- Кнопка отключения звука -->
            <button id="sound-toggle">
                <img src="assets/images/on.webp" alt="Звук включен" id="sound-icon">
            </button>
        </div>
    </div>

    <!-- Счётчики -->
    <div class="counters">
        <div class="left-counters">
            <!-- $Daisy -->
            <div id="coin-counter" class="counter">
                <img src="assets/images/goldcoin.webp" alt="$Daisy" class="coin-icon">
                <span class="daisy-coin" id="coin-count">10000</span> $Daisy
            </div>
            <!-- Билеты -->
            <div id="ticket-counter" class="counter">
                <img src="assets/images/Ticket.webp" alt="Билет" class="ticket-icon">
                <span id="ticket-count">200</span>
            </div>
        </div>
        <div class="right-counters">
            <!-- Coin -->
            <div id="spin-coin-counter" class="counter">
                <img src="assets/images/silvercoin.webp" alt="Coin" class="coin-icon">
                <span class="secondary-coin" id="spin-coin-count">10000</span> Coin
            </div>
            <!-- Энергия -->
            <div id="energy-counter" class="counter">
                <img src="assets/images/energy-icon.png" alt="Энергия" class="energy-icon">
                <span id="energy-count">1000</span> <span data-localize="energy">Энергия</span>
            </div>
            <!-- Бустер -->
            <button id="booster" data-localize="booster">Бустер 6/6 (01:00)</button>
        </div>
    </div>

    <!-- Ромашка -->
    <div class="chamomile-container">
        <img src="assets/images/chamomile.webp" id="chamomile" alt="Ромашка">
    </div>

    <!-- Таймер до следующего уровня -->
    <div id="next-prediction-timer">
        <span data-localize="next_prediction_in">До следующего уровня:</span> <span id="prediction-timer">06:00:00</span>
    </div>

    <!-- Кнопка "Играть" -->
    <button id="play-button" data-localize="play_button">Играть</button>

    <footer>
        <button id="airdrop-btn" data-localize="airdrop">Airdrop</button>
        <button id="rating-btn" data-localize="rating">Рейтинг</button>
        <button id="shop-btn" data-localize="shop">Магазин</button>
        <button id="friends-btn" data-localize="friends">Друзья</button>
        <button id="tasks-btn" data-localize="tasks">Задачи</button>
    </footer>

    <!-- Модальные окна -->
    <!-- Предсказание -->
    <div id="prediction-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="your_prediction">Ваше предсказание на сегодня:</h2>
            <p id="prediction-title"></p>
            <div class="prediction-buttons">
                <button class="share-btn" data-localize="share_with_friends">Поделиться с друзьями</button>
                <button class="publish-btn" data-localize="publish_story">Опубликовать историю</button>
            </div>
            <div id="ticket-notification" class="ticket-notification" style="display: none;">
                <p data-localize="congratulations_ticket">Поздравляем! Ваш подарок: <span id="ticket-amount">0</span> билетов.</p>
            </div>
            <div id="predictions-history">
                <h3 data-localize="prediction_history">История предсказаний:</h3>
                <!-- Здесь будут отображаться предыдущие предсказания -->
            </div>
        </div>
    </div>

    <!-- Airdrop -->
    <div id="airdrop-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Airdrop</h2>
            <p data-localize="airdrop_info">Что такое airdrop: Это бесплатная раздача токенов или монет пользователям криптовалютного проекта.</p>
            <p data-localize="airdrop_update">В данный момент игра находится на этапе добычи монет. Следите за обновлениями!</p>
        </div>
    </div>

    <!-- Рейтинг -->
    <div id="rating-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="player_rating">Рейтинг игроков</h2>
            <div id="rating-list">
                <!-- Тестовый текст -->
                <p data-localize="rating_soon">Тестовый рейтинг скоро будет доступен.</p>
            </div>
        </div>
    </div>

    <!-- Магазин -->
    <div id="shop-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="shop">Магазин</h2>
            <div class="shop-tabs">
                <button class="shop-tab active" data-tab="daisy" data-localize="shop_daisy">За $Daisy</button>
                <button class="shop-tab" data-tab="coin" data-localize="shop_coin">За Coin</button>
                <button class="shop-tab" data-tab="premium" data-localize="shop_premium">Премиум</button>
            </div>
            <div class="shop-content" id="shop-content"></div>
        </div>
    </div>

    <!-- Друзья -->
    <div id="friends-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="friends">Друзья</h2>
            <p data-localize="invite_friends">Приглашайте друзей! Вы и ваш друг получите бонус в виде монет. Для Telegram друзей с Telegram Premium - особые условия!</p>
            <div id="friends-list">
                <!-- Тестовый текст -->
                <p data-localize="friends_soon">Тестовый список друзей скоро будет доступен.</p>
            </div>
        </div>
    </div>

    <!-- Задачи -->
    <div id="tasks-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="tasks">Задачи</h2>
            <p data-localize="complete_tasks">Выполняйте задания и зарабатывайте больше $Daisy Coin</p>
            <p style="color: gray;" data-localize="tasks_soon">Задания скоро появятся...</p>
        </div>
    </div>

    <!-- Модальное окно покупки скина -->
    <div id="skin-purchase-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 data-localize="congratulations">Поздравляем!</h2>
            <p data-localize="skin_acquired">Вы приобрели скин: <span id="acquired-skin-name">Название скина</span>.</p>
            <div class="action-buttons">
                <button class="upgrade-btn" data-localize="upgrade">Улучшить</button>
                <button class="equip-btn" data-localize="equip_skin">Установить скин</button>
            </div>
        </div>
    </div>

    <!-- Мини-игра "Защити цветок" -->
    <div id="protect-flower-game" class="game-screen" style="display: none;">
        <canvas id="game-canvas"></canvas>
        <div id="game-timer">01:00</div>
        <div id="game-lives">
            <img src="assets/images/heart.png" alt="Жизнь" class="life-icon">
            <img src="assets/images/heart.png" alt="Жизнь" class="life-icon">
            <img src="assets/images/heart.png" alt="Жизнь" class="life-icon">
        </div>
        <div id="game-coins">
            <img src="assets/images/silvercoin.webp" alt="Coin" class="coin-icon">
            <span id="game-coin-count">0</span>
            <!-- Добавлен счётчик $Daisy -->
            <img src="assets/images/goldcoin.webp" alt="$Daisy" class="coin-icon">
            <span id="game-daisy-count">0</span>
        </div>
        <!-- Кнопка "Старт" внутри мини-игры -->
        <button id="start-mini-game" data-localize="start">Старт</button>
    </div>

    <!-- Анимация конфетти -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Подключаем скрипты -->
    <script src="scripts/audio.js"></script>
    <script src="scripts/localization.js"></script>
    <script src="scripts/modal.js"></script>
    <script src="scripts/shop.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/mini-game.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
